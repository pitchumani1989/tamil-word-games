<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="css/bootstrap.min.css">
</head>
<body>
<script src="js/jspdf.min.js"></script>
<script>
		var scrambledData = "";
		function scrambleData()
		{
			 	scrambledData = "";
				var plainData = document.getElementById("plainData").value;
				var lines = plainData.split("\n")
			
				for(count=0; count< lines.length; count++){
				var words = lines[count].split(" ");
				var shuffledWords = shuffle(words);

				scrambledData += arrayToString(shuffledWords) + "\n";
				scrambledData += answerString(shuffledWords) + "\n";
				scrambledData += "\n";
				}
				scrambledData.trim()
				document.getElementById("scrambledData").innerHTML = scrambledData;
		}
		   
        function shuffle(words)
        {
    		var j, x, i;
    		for (i = words.length - 1; i > 0; i--) {
        		j = Math.floor(Math.random() * (i + 1));
        		x = words[i];
        		words[i] = words[j];
        		words[j] = x;
    		}
    		return words;
		}
		
		function arrayToString(words)
		{
			var arrayString ="";
			for(i=0; i < words.length; i++){
				arrayString += words[i] + " ";
			}
			return arrayString.trim();
		}

		function answerString(words)
		{
			var answerString ="";
			for(i=0; i < words.length; i++){
				answerString += "_____" + " ";
			}
			return answerString.trim();
		}

        function downloadFile()
	    {
		    var encodedUri = encodeURI("data:text/plain;charset=utf-8," + scrambledData);
		    var link = document.createElement("a");
		    link.setAttribute("href", encodedUri);
		    link.setAttribute("download", "scrambled-data.txt");
		    document.body.appendChild(link);
   	        link.click();
	    }

	    function downloadPdf()
	    {
	        var doc = new jsPDF();
	        doc.text(scrambledData, 10, 10);
	        doc.save('scrambled-data.pdf');
	    }
</script>
<div class="alert alert-info">
    <h4 class="alert-heading">Welcome To Word Scrambler</h4>
    <p>This is to shuffle words in each line you type here</p>
</div>

<div class="container">
    <br/>
    <div class="form-group">
        <textarea class="form-control" id="plainData" rows="10" cols="100" placeholder="Your text here"></textarea>
        <br/>
        <button class="btn btn-info" onclick="scrambleData()">Scramble</button>
    </div>

    <div class="form-group">
        <button class="btn btn-secondary float-right" onclick="downloadPdf()">Download</button>
        <textarea class="form-control" id="scrambledData" rows="10" cols="100" readonly></textarea>
    </div>
</div>

</body>
</html>
